///////////////////////////////////////////////////////////////////////////////////////
//////////////// Simulador de bus

let shape =
    [
      [9.80112746480414,-84.10029118258419], // Tranquerillas
      [9.801063999999997,-84.100111],
      [9.801000999999985,-84.099403],
      [9.800894999999997,-84.099124],
      [9.800783999999993,-84.09906799999999],
      [9.800450999999981,-84.099052],
      [9.800331999999983,-84.098955],
      [9.800134,-84.098674],
      [9.800117000000014,-84.09850200000001],
      [9.800295000000006,-84.098161],
      [9.800312000000005,-84.098029],
      [9.800242999999995,-84.097775],
      [9.800191999999996,-84.097716],
      [9.799797999999996,-84.097627],
      [9.799426999999994,-84.097454],
      [9.798805661598692,-84.09699075003273],
      [9.798557000000002,-84.096796],
      [9.798062000000002,-84.096055],
      [9.797668000000002,-84.09588000000001],
      [9.796240999999995,-84.095954],
      [9.796051000000006,-84.095599],
      [9.796350000000004,-84.094867],
      [9.796140999999977,-84.094609],
      [9.795891999999995,-84.09462200000002],
      [9.794865999999999,-84.09555399999999],
      [9.794725,-84.09559199999998],
      [9.794488000000001,-84.095407],
      [9.794488000000001,-84.094709],
      [9.794415999999998,-84.094553],
      [9.794121000000004,-84.094476],
      [9.793942999999999,-84.094585],
      [9.793330000000012,-84.09601800000002],
      [9.793023000000005,-84.096303],
      [9.792286000000004,-84.096412],
      [9.791893019829857,-84.09631380094297],
      [9.791945999999996,-84.09632299999998],
      [9.791421999999997,-84.09538399999998],
      [9.790628999999996,-84.09492100000001],
      [9.790531999999999,-84.094826],
      [9.790512000000021,-84.09456200000001],
      [9.790555999999995,-84.094436],
      [9.790728000000001,-84.094326],
      [9.791021999999998,-84.094231],
      [9.791167999999999,-84.09413199999999],
      [9.791187999999991,-84.09405400000001],
      [9.791156,-84.09389800000001],
      [9.790826999999993,-84.093509],
      [9.790641999999991,-84.093164],
      [9.790631000000019,-84.09303700000001],
      [9.790819302906797,-84.0925756747916],
      [9.790940000000006,-84.091426],
      [9.790669000000008,-84.08687999999998],
      [9.790703000000008,-84.08671699999998],
      [9.79078626540796,-84.08669189775516],
      [9.791032999999999,-84.08658299999999],
      [9.791605000000004,-84.08685600000001],
      [9.79179600000002,-84.08687000000002],
      [9.791983000000002,-84.08678399999998],
      [9.792099000000007,-84.086658],
      [9.792154999999994,-84.0865],
      [9.792241000000004,-84.085406],
      [9.792428999999998,-84.084392],
      [9.792366999999999,-84.084099],
      [9.791859982437856,-84.08370810199311],
      [9.791240000000002,-84.08316100000002],
      [9.790942999999999,-84.08326],
      [9.790867000000006,-84.083463],
      [9.791167999999999,-84.083954],
      [9.791156999999984,-84.084178],
      [9.790233,-84.084906],
      [9.789282,-84.086149],
      [9.789129000000003,-84.08621],
      [9.788934999999995,-84.086161],
      [9.788128999999998,-84.085612],
      [9.787869,-84.085607],
      [9.786927000000006,-84.08675199999999],
      [9.785809000000029,-84.08755400000001],
      [9.785206000000002,-84.088145],
      [9.785025000000033,-84.08810900000002],
      [9.784921999999995,-84.087869],
      [9.785599000000005,-84.085419],
      [9.785331999999997,-84.084873],
      [9.784913966334997,-84.08452948397269],
      [9.78486700000002,-84.084458],
      [9.784498999999997,-84.08439100000001],
      [9.784338000000005,-84.084274],
      [9.783960000000008,-84.08369899999998],
      [9.783787000000004,-84.083075],
      [9.783698999999999,-84.082969],
      [9.783598999999995,-84.082943],
      [9.783463000000012,-84.082981],
      [9.783102,-84.083285],
      [9.782993000000005,-84.08334200000002],
      [9.782789999999991,-84.083359],
      [9.782174999999995,-84.08308600000001],
      [9.781902000000017,-84.082918],
      [9.781732000000005,-84.08268],
      [9.781599,-84.08217299999998],
      [9.780950000000004,-84.081522],
      [9.780440999999996,-84.081074],
      [9.780021000000005,-84.080483],
      [9.779678000000004,-84.079682],
      [9.779567,-84.078845],
      [9.779383999999993,-84.078523],
      [9.779059311689252,-84.07819451153335],
      [9.778666000000001,-84.077531],
      [9.778590999999992,-84.077284],
      [9.778672999999998,-84.07731000000001],
      [9.778920999999983,-84.077646],
      [9.779089999999997,-84.077719],
      [9.779228999999987,-84.077698],
      [9.779837000000015,-84.077435],
      [9.780400999999998,-84.077362],
      [9.780744999999996,-84.077183],
      [9.781504164031674,-84.07692053132065],
      [9.782126000000005,-84.07694600000002],
      [9.782757000000004,-84.077033],
      [9.782893000000001,-84.077006],
      [9.783185000000003,-84.07665400000002],
      [9.783426000000006,-84.076452],
      [9.783533000000006,-84.07624100000001],
      [9.783619000000002,-84.07541],
      [9.78358,-84.074819],
      [9.783648999999997,-84.07473499999999],
      [9.783844000000016,-84.074722],
      [9.784389000000004,-84.074431],
      [9.785218312619946,-84.07373827324558],
      [9.785494,-84.073544],
      [9.786163000000002,-84.072996],
      [9.786246000000006,-84.07285],
      [9.786248999999998,-84.072756],
      [9.785894999999996,-84.072016],
      [9.785795000000007,-84.071676],
      [9.78576600000001,-84.071324],
      [9.785813000000019,-84.071145],
      [9.78591999999999,-84.071083],
      [9.786050000000003,-84.071095],
      [9.786637999999996,-84.071312],
      [9.786783999999997,-84.07126700000002],
      [9.787125000000003,-84.07057600000002],
      [9.788736846775123,-84.06852501211075],
      [9.78927751050739,-84.06786869783176],
      [9.789659711895737,-84.0676143722075] // San JuÃ¡n
    ];

direction = 1;
counter = 0;
function obtener_coor_bus () {
  if (counter >= shape.length -1){
    direction = -1;
  }

  if (counter <= 0){
    direction = 1;
  }

  counter += direction;
  return shape[counter-direction];
}


///////////////////////////////////////////////////////////////////////////////////////////
//////////////// Consultar las coordenadas segundo a segundo

setInterval(() => {
  let coordenadas = obtener_coor_bus();
  console.log("Coordenadas del bus: " + coordenadas);

  marker2.setPosition({ lat: coordenadas[0], lng: coordenadas[1] });
}, 2000);
